<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_script_include">
    <sys_script_include action="INSERT_OR_UPDATE">
        <access>public</access>
        <active>true</active>
        <api_name>x_snc_devtools.AppInstall</api_name>
        <caller_access/>
        <client_callable>false</client_callable>
        <description>This script installs DevTools</description>
        <name>AppInstall</name>
        <script><![CDATA[function AppInstall()
{	
	var installer = new InstallerAPI(GetAppName('x_snc_devtools'));

	installer.SetProperty('x_snc_devtools.logging.verbosity','debug');
	
	installer.SetProperty('sn_g_app_creator.allow_global','true');
	
	installer.SetProperty('glide.record.legacy_cross_scope_access_policy_in_script','true');
	
	installer.InstallGlobalSystemProperty('glide.script.block.client.globals',
		'boolean',
		'Controls if client scripts should be blocked from accessing global JavaScript objects (e.g. window)');
	installer.SetProperty('glide.script.block.client.globals','true');
	
	installer.InstallGlobalSystemProperty('com.glide.apps.include_my_deletes',
		'boolean',
		'Controls if the author_elective_update folder should be added into a code repository');

	installer.InstallSystemPropertyCategoryMapping(
		'devtools.instance.deployment',
		'com.glide.apps.include_my_deletes',
		100);

	installer.DeleteView('devtoolsinstall');
	installer.DeleteView('exp_dtmpincidentadmin');

	installer.SetTableAttribute('sysauto_script','update_synch','true');
	
	// Enabling the creation of cross-scope before query business rules
	installer.ActivateBusinessRule('ccaf8afec3302200f7d1ca3adfba8f14',false);
	installer.ActivateClientScript('5d19f53ac3302200f7d1ca3adfba8f36',false);
	installer.ActivateClientScript('3c5ffd7ac3302200f7d1ca3adfba8f22',false);
	
	// Disable the OOTB "Execute Now" UI action on sysauto_script - so that DevTools' UI action can take its part
	installer.ActivateUiAction('31db53d1a9fe07590053c90a05c57084',false);
	
	// Disable the "Save" UI action on table rm_story to avoid duplicate buttons
	installer.ActivateUiAction('6b85b644c3e003004e771bdef1d3aebb',false);
	
	
	// Unhide the field class "UI Action List" (glide_action_list) so that it can be used by developers
	installer.ShowFieldClass('glide_action_list',true);
	// Unhide the field class "Email" (email) so that it can be used by developers
	installer.ShowFieldClass('email',true);
	// Unhide the field class "Related Tags" (related_tags) so that it can be used by developers
	installer.ShowFieldClass('related_tags',true);
	
	// Disable the OOTB UI policy on UI scripts hiding the global field:
	installer.ActivateUiPolicy('da7ddc63c3632100b9e7ff9c02d3ae8b',false);

	// Disable the OOTB client script that warns for global UI scripts in case they are not compliant with a pattern
	installer.ActivateClientScript('1436a612d7032100b6bddb0c8252039f',false);

	// Disable the OOTB client script that replaces a changed api name in the script - which might damage the script. 
	installer.ActivateClientScript('86042d31d7032100b6bddb0c825203cc',false);
	
	
	/*
	
	
var grPolicy = GetRecord('sys_ui_policy','e043f4dfdb121510f359c1911596190a');
gs.info(RenderValue(grPolicy));

grPolicy.conditions = 'type=local^EQ';
grPolicy.table = 'content_css';
//GlideRecordUpdate(grPolicy);

var grPolicyAction = GetRecord('sys_ui_policy_action','d805bc13db521510f359c19115961944');
gs.info(RenderValue(grPolicyAction));


var grPolicyAction = GetRecord('sys_ui_policy_action','d1bbfb0b1b43dd105b76777d8b4bcb80');
gs.info(RenderValue(grPolicyAction));


var grPolicyAction = new GlideRecord('sys_ui_policy_action');
grPolicyAction.initialize();
grPolicyAction.ui_policy = grPolicy.sys_id;
grPolicyAction.field = 'url';
grPolicyAction.table = 'content_css';
grPolicyAction.visible = false;
GlideRecordInsert(grPolicyAction);
	
	
	
	*/
	
	
	
	
	
	return installer.Finish();

}]]></script>
        <sys_class_name>sys_script_include</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2020-07-03 21:35:10</sys_created_on>
        <sys_id>339e63591b719050a89720a8ec4bcb3f</sys_id>
        <sys_mod_count>67</sys_mod_count>
        <sys_name>AppInstall</sys_name>
        <sys_package display_value="DevTools WORK IN PROGRESS" source="x_snc_devtools">d689f6901bd38450a89720a8ec4bcbfd</sys_package>
        <sys_policy>read</sys_policy>
        <sys_scope display_value="DevTools WORK IN PROGRESS">d689f6901bd38450a89720a8ec4bcbfd</sys_scope>
        <sys_update_name>sys_script_include_339e63591b719050a89720a8ec4bcb3f</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-11-13 21:13:17</sys_updated_on>
    </sys_script_include>
</record_update>
